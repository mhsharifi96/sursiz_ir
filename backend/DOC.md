# Api Document

HOST : `borsiz.ir`




## Twit
ุจุฑุง ุฏุฑุงูุช ุชูุช ูุง ฺฉุงู ุงุณุช ุจู ุงุฏุฑุณ ุฐู ุฏุฑุฎูุงุณุช ุฏูุฏ.  

URL : `<HOST>/api/app/twit/`  
ฺฉู ุฏุฑ ูพุงุณุฎ ุชูุช ูุง ุฑุง ุจู ุตูุฑุช ุตูุญู ุจูุฏ ุดุฏู ุฏุฑุงูุช ู ููุงุฏ.

| param   |      description      | example url |
|----------|:-------------:|------:|
| page    | number of page |  /api/app/twit/?page=19|
| limit |    maximum number of items to return   |  /api/app/twit/?limit=69 |
| offset | the starting position of the query in relation to the complete set of unpaginated items |    /api/app/twit/?offset=100  |
    
```pagination default per page : 100```

ููฺูู ูุชูุงูุฏ ุจุง ุงุณุชูุงุฏู ุงุฒ  `&` ูพุงุฑุงูุชุฑูุง ุฑุง ุจู ุตูุฑุช ุชุฑฺฉุจ ุงุณุชูุงุฏู ููุงุฏ.
ุจู ุนููุงู ูุซุงู 

`/api/app/twit/?page=19&limit=69`

ฺฉู ุจู ูุนูุง ุขู ุงุณุช ุตูุญู ฑน ู ุญุฏุงฺฉุซุฑ ุฏุฑ ุตูุญู ถน ุชูุช ููุงุด ู ุฏูุฏ.

### new Twit (socket programing)
ุจุง ุชูุฌู ุจู ุงูฺฉู ููฺฉู ุงุณุช ุฏุฑ ููฺฏุงู ูุดุงูุฏู ุชูุช ูุง ุชูุช ุฌุฏุฏ ุงุถุงูู ุดูุฏ ูพุณ ูุงุฒ ุจู ุณูฺฉุช ุฏุงุฑู ุชุง ุจุชูุงูู ุชูุช ูุง ุฌุฏุฏ ุฑุง ุฏุฑุงูุช ฺฉูู .

ุจุฑุง ุฏุฑุงูุช ุชูุช ูุง ุฌุฏุฏ ฺฉุงูุณุช ุจู ุงุฏุฑุณ ุฐู ุฏุฑุฎูุงุณุช ุฏูุฏ
URL : `ws://<HOST>/ws/lobby/`  
ุจู ุนููุงู ูุซุงู ุงฺฏุฑ ูุงุณุช ุจุฑ ุฑู ููฺฉุงู ุฎูุฏ ุจุงุดุฏ ุงุฏุฑุณ ุจู ูุญู ุฐู ู ุจุงุดุฏ.
URL : `ws://127.0.0.1:8000/ws/lobby/`  

**note** : in this url we use `ws` insted of `http`   
**note** : just use in all twit and can't use on another part because this channel return uncategorized twit  

response :  
```
{
  "message": "ูพุงู ุฌุฏุฏ",
  "twit": {
    "id": 3963,
    "image": null,
    "description": "ุขุฎุฑู ุชุณุช ุจุฑุง ฺฺฉ ฺฉุฑุฏู",
    "title": "ุณูุงู ุฎูุจ",
    "company": 1,
    "category": 1,
    "status": 1
  }
}
```


TODO : complete channel for categorized twit 

## Search and Categorization

ุจุง ุชูุฌู ุจู ูุงุฒ ุงูพ ูุง ุจู ูุณูุช ูุง ุฐู ุงุญุชุงุฌ ุฏุงุฑู ู ููฺูู ุจุง ุชูุฌู ุงูฺฉู ูุฑ ุชูุช ุงุฒ ฺฉ ฺฉุงูุงู ุงุณุช ู ุฏุงุฑุง ูุฑูุช ุฎุงุต ุจุฑุง ุฏุณุชู ุจูุฏ ุฏุฑุณุช ุงููุง ูุณุช ูุง ุงุฒ ุณุฑฺ ุงุณุชูุงุฏู ูฺฉูู ุชุง ุจุง ุชูุฌู ุจู ูุงุฒ ุฎูุฏ ุฏุงุฏู ูุง ููุฑุฏ ูุงุฒ ุฑุง ุงุณุชุฎุฑุงุฌ ููุงู
ฺฉู ุจุฑุง ุดุฑูุน ุจู ุงุฏุฑุณ ุฐู ุฏุฑุฎูุงุณุช ูุฏูู

URL : `<HOST>/api/app/search/`  

ฺฉู ุฏุฑูพุงุณุฎ ููู ุชูุช ูุง ููุฌูุฏ ุฑุง ุจุฑ ูฺฏุฑุฏุงูุฏ.

response : 
```
{
    {
    "count": 3907,
    "next": "http://127.0.0.1:8000/api/app/search/?page=2",
    "previous": null,
    "facets": {},
    "results": [
        {
            "id": 3939,
            "image": "",
            "title": "ุณูุงู",
            "description": "#ุงูู ูุฏู ูุฏุฑ \n ุงุฒ ุงูุงู ุชุง ูุฑุฏุง ุตุจุญ ููฺฉ ฺฉุงูุงู vip ุฑุง ุฑุงฺฏุงู ฺฉุฑุฏู ุจุนุฏ ุงุฒ ุขู ุญู ุนุถูุช 2 ูููู ุชููุงู ุงุณุช.\n\n@mr_economy\n\nุฏูู ูฺฏู ฺฉุฌุง ุจูุฑูุดุฏ ุฺฉุฌุง ุจุฎุฑุฏ ฺฉุฌุง ุชูุงุดุงฺฏุฑ ุจุงุดุฏ  ตฐ ููุฑ ุนุถู ุดููุฏ ููฺฉู ุจุฑ ูุฏุงุฑู ๐๐",
            "company": {
                "id": 2,
                "name": "ุจูุฑุณฺฉุฏู"
            },
        ...
```
ุญุงู ุจุฑุง ูุญุฏูุฏ ฺฉุฑุฏู ุขู ุจุงุฏ ุงุฒ ูพุงุฑุงูุชุฑูุง ุงุณุชูุงุฏู ููุงู ฺฉู ุฏุฑ ุฌุฏูู ุฐู ุดุฑุญ ุฏุงุฏู ุดุฏู ุงุณุช

| param   |      description      | example url | note |
|----------|:-------------:|------:|---------:|
| title | search on title | /api/app/search/?title=`title_example<str>`| - |
| description | search on description | /api/app/search/?description=`desc_example<str>` | |
|company_name | search on name of compnay | /api/app/search/?company_name=`comp_example<str>` | |
| compnay_id  | search on id of company | /api/app/search/?company_id=`comp_id<int>`| 
| status | Categorization by status | /api/app/search/?status=`0 or 1` | - |
| category | Categorization by category | /api/app/search/?category= | - |

ุฏุฑ ุฌุฏูู ุฑุฏู ูุง ฺฉู ุฏุงุฑุง `-` ูุณุช ูุนูุง ูุงุฒ ุจู ุงุณุชูุงุฏู ุงุฒ ุขู ูุณุช .  
ุญุงู ูุชูุงูู ุฑุฏู ูุง ุจุงูุง ุจู ุตูุฑุช ุชุฑฺฉุจ ุจุง ฺฉุฏฺฏุฑ `&` ฺฉูู
ุจู ุนููุงู ูุซุงู


```
?company_id=5&description=ุณูุงู

ex : http://127.0.0.1:8000/api/app/search/?company_name=%D8%AF%D9%84%D8%A7%D8%B1&description__contains=%D8%B3%D9%84%D8%A7%D9%85
```
ฺฉู ูุชุงุฌ ูุฑุจูุท ุจู ุดุฑฺฉุช ุจุง ุง ุฏ ต ู ุชูุช ูุง ฺฉู ูุญุชู ุนุจุงุฑุช `ุณูุงู` ุงุณุช ุฑุง ุจุฑ ูฺฏุฑุฏุงูุฏ.


ููฺูู ูุชูุงูุฏ ุจุฑุง ุฌุณุชุฌู ุฏูู ุชุฑ ุจู ุงู ูุญู ุณุฑฺ ููุงุฏ.
ุจู ุนููุงู ูุซุงู :โ

```
?description__contains=ุณูุงู
?description__contains=ุฎุจุฑ*ููุซุฑ  # *desc

```
`*desc` :  
ุฏุฑุตูุฑุช ฺฉู ุนุจุงุฑุช`ุฎุจุฑ ููุซุฑ `ุฑุง ุจุฏูู ุงุณุชูุงุฏู ุงุฒ `(*)ุณุชุงุฑู` ุจููุณู ููฺฉู ุงู ุนุจุงุฑุช ุจู ุตูุฑุช ูุดุชฺฏ ฺฏุฐุงุฑ ุดุฏู ุฏุฑ ูุญุชูุง ููุฌูุฏ ุจุงุดุฏ ุง ุจู ุตูุฑุช ุฌูุน ฺฉููู ู ุง ุจู ุตูุฑุช ุชุฑฺฉุจ ุงุฒ ุขู ูุง ฺฉู ุฏุฑ ูุซุงู `#ุฎุจุฑูุง_ููุซุฑ` ูุชูุงู ุขู ุฑุง ูุดุงูุฏู ฺฉุฑุฏ. ุจู ููู ุฏูู ุงุฒ `*`ุงุณุชูุงุฏู ู ููุงู ุชุง ุฌุณุชุฌููุง ุจุดุชุฑ ุจุฑุง ูุง ููุงุด ุฏุงุฏู ุดูุฏ

ููฺูู ูุชูุงูุฏ ุงุฒ ููุชุฑูุง ุฐู ูู  ุฏุฑุตูุฑุช ูุงุฒ ุงุณุชูุงุฏู ููุงุฏ

```
?description__in= ุจูุฌุฑ
?description__startswith=ุจูุฌ
?description__endswith=ูุฌุฑ
?description__exclude =ุจูุฌุฑ
```



[ElasticSearch Document](https://django-elasticsearch-dsl-drf.readthedocs.io/en/0.20.8/nested_fields_usage_examples.html) for more info

---

## Campany
ุจุฑุง ุฏุฑุงูุช ูุณุช ฺฉุงูู ูุงู ฺฉุงูุงู (ฺฉู ูุง ุฏุฑ ุจุฑูุงูู ุขู ูุง ุฑุง ุจุง ูุงู ฺฉููพุงู ุฏุฑ ูุธุฑ ฺฏุฑูุชู ุงู ุชุง ุฏุฑุตูุฑุช ุงุถุงูู ุดุฏู ุงุทูุงุนุงุช ุฏฺฏุฑ ุจู ูุดฺฉู ุจุฑุฎูุฑุฏ ูฺฉูู) ุจู ุงุฏุฑุณ ุฐู ุฏุฑุฎูุงุณุช ุฎูุฏ ุฑุง ุงุฑุณุงู ูฺฉูุฏ.  

URL : `<host>/api/app/company/`  
ฺฉู ูพุงุณุฎ ููุงููุฏ ุฒุฑ ุฏุฑุงูุช ูููุงุฏ.  
response : 
```
[
    {
        "id": 1,
        "name": "ุณูฺฏุงู ูุง ุฑุงูุช",
        "telegram_url": "https://t.me/signalrantiii",
        "telegram_channel_id": "1089466869",
        "description": "ูุจู ุงุฒ ุฎุฑุฏ ู ูุฑูุด ุฏุฑ ุจุงุฒุงุฑ ุณุฑูุงู ุงูู ุงููุฒุด ุจุจูุฏ \r\n\r\nุฏุฑ ุจุง ูู ุฏุฑุณุช ุจุง\r\n\r\nุจุงุฒุงุฑ ุจูุฑุณ ููุดู ูุณุช ู ููุดู ูู ุณูู ุฎูุจ ูพุฏุง ูุดู \r\n\r\nููุดู ุณูุงู ฺฉู ุฑุณฺฉ ู pุจุฑ e ูพุงู ุจุฎุฑุฏ\r\n\r\n\r\n1001089466869",
        "image": null,
        "slug": "signalrantiii",
        "status": 1,
        "status_show": 2,
        "owner": 1
    },
    ...
```

ููฺูู ุจุฑุง ุฏุฑุงูุช ฺฉ ฺฉููพุงู ุฎุงุต ฺฉุงู ุงุณุช ุจู ุงุฏุฑุณ ุฐู ุฏุฑุฎูุงุณุช ููุงุฏ.  

URL : `<HOST>/api/app/company/<id>/`  

e.x:  
```
request : <HOST>/api/app/company/3/  

response :   
{
    "id": 3,
    "name": "ฺฉุงูุงู ุชฺฉ ุณูู",
    "telegram_url": null,
    "telegram_channel_id": "1329648288",
    "description": "#ูุนุฑู ุจูุชุฑู #ุชฺฉ_ุณูู ูุง ุจุงุฒุงุฑ\r\n\r\n#ฺฉุงูู_ุชุฑู_ูพฺฉุฌ_ุจูุฑุณ ุจุง ุจูุชุฑู ฺฉูุช ุงุฒ ูุง ุจุฎูุงูุฏ\r\n\r\n1001329648288",
    "image": null,
    "slug": "tak-sahm",
    "status": 1,
    "status_show": 2,
    "owner": 1
}


```


## Category

ุจุฑุง ุฏุฑุงูุช ฺฉุงูู (ูุณุช) ุฏุณุชู ุจูุฏ ูุง ูู ุจู ุงุฏุฑุณ ุฐู ุฏุฑุฎูุงุณุช ูุฏูู 

URL : `<HOST>/api/app/category`  

response : 
```
[
    {
        "id": 1,
        "name": "ุจูุฑุณ",
        "description": "ุชุญูู ุจูุฑุณ ู ูุฑุงุจูุฑุณ",
        "image": null
    }
]
```

ู ุจุฑุง ุฏุฑุงูุช ฺฉ ุฏุณุชู ุฎูุงุณุช ุงุฏุฑุณ ููู ุฑุง ุจู ููุฑุงู ุง ุฏ ุขู ุงุฑุณุงู ูฺฉูุฏ.

URL : `<HOST>/api/app/category/<id>/`

e.x :

```
request : <HOST>/api/app/category/1/

response :   
{
    "id": 1,
    "name": "ุจูุฑุณ",
    "description": "ุชุญูู ุจูุฑุณ ู ูุฑุงุจูุฑุณ",
    "image": null
}
```

---


